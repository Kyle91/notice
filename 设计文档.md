# Notice - ç­¾åˆ°æé†’åº”ç”¨è®¾è®¡æ–‡æ¡£

## ä¸€ã€é¡¹ç›®æ¦‚è¿°

### 1.1 é¡¹ç›®ç®€ä»‹
Notice æ˜¯ä¸€æ¬¾è·¨å¹³å°ï¼ˆWindows + macOSï¼‰çš„ç­¾åˆ°æé†’æ¡Œé¢åº”ç”¨ï¼Œå¸®åŠ©ç”¨æˆ·ç®¡ç†æ¯æ—¥å®šæ—¶æé†’ä»»åŠ¡ï¼Œæ”¯æŒå¼¹çª—é€šçŸ¥ã€ç½‘é¡µå¿«é€Ÿæ‰“å¼€ã€Serveré…±æ¶ˆæ¯æ¨é€ç­‰åŠŸèƒ½ã€‚

### 1.2 æŠ€æœ¯é€‰å‹

| æŠ€æœ¯æ ˆ | é€‰æ‹© | è¯´æ˜ |
|--------|------|------|
| åç«¯æ¡†æ¶ | Rust + Tauri 2.0 | è½»é‡ã€é«˜æ€§èƒ½ã€è·¨å¹³å° |
| å‰ç«¯æ¡†æ¶ | Vue 3 + TypeScript | ç°ä»£åŒ–ã€ç±»å‹å®‰å…¨ |
| UI ç»„ä»¶åº“ | Vuetify 3 | Google Material Design 3 å®˜æ–¹å®ç° |
| çŠ¶æ€ç®¡ç† | Pinia | Vue å®˜æ–¹æ¨è |
| æœ¬åœ°å­˜å‚¨ | SQLite | è½»é‡çº§å…³ç³»å‹æ•°æ®åº“ |
| å®šæ—¶ä»»åŠ¡ | tokio + chrono | Rust å¼‚æ­¥è¿è¡Œæ—¶ |
| HTTP å®¢æˆ·ç«¯ | reqwest | Serveré…±é€šçŸ¥æ¨é€ |

### 1.3 è®¾è®¡åŸåˆ™
- **Material Design 3**ï¼šéµå¾ª Google æœ€æ–°è®¾è®¡è§„èŒƒï¼Œç®€æ´ç°ä»£
- **äº‘ç«¯å°±ç»ª**ï¼šæ•°æ®æ¨¡å‹é¢„ç•™åŒæ­¥å­—æ®µï¼Œä¾¿äºåç»­æ‰©å±•
- **ç”¨æˆ·å‹å¥½**ï¼šæ“ä½œç›´è§‚ï¼Œåé¦ˆåŠæ—¶ï¼ŒåŠ¨æ•ˆæµç•…

---

## äºŒã€åŠŸèƒ½éœ€æ±‚

### 2.1 æ ¸å¿ƒåŠŸèƒ½

#### 2.1.1 æé†’ç®¡ç†
- æ·»åŠ æé†’ï¼šè®¾ç½®æ ‡é¢˜ã€å†…å®¹ã€æ—¶é—´ã€é“¾æ¥ç­‰
- ç¼–è¾‘æé†’ï¼šä¿®æ”¹å·²æœ‰æé†’çš„å„é¡¹é…ç½®
- åˆ é™¤æé†’ï¼šç§»é™¤ä¸éœ€è¦çš„æé†’
- å¯ç”¨/ç¦ç”¨ï¼šä¸´æ—¶å…³é—­æŸä¸ªæé†’è€Œä¸åˆ é™¤

#### 2.1.2 å®šæ—¶å¼¹çª—
- åˆ°è¾¾è®¾å®šæ—¶é—´åå¼¹å‡ºæé†’çª—å£
- æ˜¾ç¤ºæé†’æ ‡é¢˜ã€å†…å®¹ã€ç›¸å…³é“¾æ¥
- é“¾æ¥å¯ç‚¹å‡»ï¼Œç›´æ¥åœ¨é»˜è®¤æµè§ˆå™¨æ‰“å¼€
- æ“ä½œé€‰é¡¹ï¼šå®Œæˆã€ç¨åæé†’ã€å…³é—­

#### 2.1.3 æé†’è§„åˆ™
- æ¯æ—¥æé†’ï¼šæ¯å¤©å›ºå®šæ—¶é—´è§¦å‘
- å•æ¬¡æé†’ï¼šä»…è§¦å‘ä¸€æ¬¡
- é‡å¤æé†’ï¼šå…³é—­å¼¹çª—åï¼Œé—´éš”æŒ‡å®šæ—¶é—´å†æ¬¡æé†’
- å¾ªç¯æé†’ï¼šæŒ‰å›ºå®šé—´éš”æŒç»­æé†’ç›´åˆ°å®Œæˆ

#### 2.1.4 Serveré…±é€šçŸ¥
- é…ç½® Serveré…± SendKey
- å¯é€‰è§¦å‘æ¡ä»¶ï¼š
  - æé†’è§¦å‘æ—¶é€šçŸ¥
  - å®Œæˆç­¾åˆ°æ—¶é€šçŸ¥
  - è¶…æ—¶æœªå®Œæˆæ—¶é€šçŸ¥

### 2.2 è¾…åŠ©åŠŸèƒ½

#### 2.2.1 ç³»ç»Ÿæ‰˜ç›˜
- æœ€å°åŒ–åˆ°ç³»ç»Ÿæ‰˜ç›˜è¿è¡Œ
- æ‰˜ç›˜èœå•ï¼šæ˜¾ç¤ºä¸»çª—å£ã€æŸ¥çœ‹ä¸‹æ¬¡æé†’ã€é€€å‡º

#### 2.2.2 å¼€æœºè‡ªå¯
- å¯é€‰å¼€æœºè‡ªåŠ¨å¯åŠ¨
- å¯åŠ¨åæœ€å°åŒ–åˆ°æ‰˜ç›˜

#### 2.2.3 è®¾ç½®ç®¡ç†
- Serveré…±é…ç½®
- å¼€æœºè‡ªå¯å¼€å…³
- é»˜è®¤æé†’é—´éš”è®¾ç½®

---

## ä¸‰ã€é¡¹ç›®ç»“æ„

```
notice/
â”œâ”€â”€ src-tauri/                    # Rust åç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.rs               # åº”ç”¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ lib.rs                # åº“å¯¼å‡ºï¼Œæ³¨å†Œå‘½ä»¤
â”‚   â”‚   â”œâ”€â”€ commands/             # Tauri å‘½ä»¤å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”‚   â”œâ”€â”€ reminder.rs       # æé†’ç›¸å…³å‘½ä»¤
â”‚   â”‚   â”‚   â””â”€â”€ settings.rs       # è®¾ç½®ç›¸å…³å‘½ä»¤
â”‚   â”‚   â”œâ”€â”€ models/               # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”‚   â”œâ”€â”€ reminder.rs       # æé†’æ¨¡å‹
â”‚   â”‚   â”‚   â””â”€â”€ settings.rs       # è®¾ç½®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ services/             # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”‚   â”œâ”€â”€ reminder_service.rs
â”‚   â”‚   â”‚   â””â”€â”€ settings_service.rs
â”‚   â”‚   â”œâ”€â”€ scheduler/            # å®šæ—¶è°ƒåº¦æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”‚   â””â”€â”€ manager.rs        # è°ƒåº¦ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ notification/         # é€šçŸ¥æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”‚   â”œâ”€â”€ popup.rs          # å¼¹çª—ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ serverchan.rs     # Serveré…±æ¨é€
â”‚   â”‚   â”œâ”€â”€ storage/              # æ•°æ®å­˜å‚¨å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”‚   â”œâ”€â”€ database.rs       # æ•°æ®åº“è¿æ¥
â”‚   â”‚   â”‚   â”œâ”€â”€ reminder_repo.rs  # æé†’æ•°æ®æ“ä½œ
â”‚   â”‚   â”‚   â””â”€â”€ settings_repo.rs  # è®¾ç½®æ•°æ®æ“ä½œ
â”‚   â”‚   â””â”€â”€ utils/                # å·¥å…·å‡½æ•°
â”‚   â”‚       â”œâ”€â”€ mod.rs
â”‚   â”‚       â””â”€â”€ time.rs           # æ—¶é—´å¤„ç†
â”‚   â”œâ”€â”€ migrations/               # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ 001_init.sql
â”‚   â”œâ”€â”€ Cargo.toml
â”‚   â””â”€â”€ tauri.conf.json
â”œâ”€â”€ src/                          # Vue å‰ç«¯
â”‚   â”œâ”€â”€ assets/                   # é™æ€èµ„æº
â”‚   â”‚   â””â”€â”€ styles/
â”‚   â”‚       â”œâ”€â”€ main.css          # å…¨å±€æ ·å¼
â”‚   â”‚       â””â”€â”€ variables.css     # CSS å˜é‡
â”‚   â”œâ”€â”€ components/               # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ common/               # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ Input.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ Switch.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ TimePicker.vue
â”‚   â”‚   â”‚   â””â”€â”€ Modal.vue
â”‚   â”‚   â”œâ”€â”€ reminder/             # æé†’ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ReminderCard.vue  # æé†’å¡ç‰‡
â”‚   â”‚   â”‚   â”œâ”€â”€ ReminderList.vue  # æé†’åˆ—è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ ReminderForm.vue  # æ·»åŠ /ç¼–è¾‘è¡¨å•
â”‚   â”‚   â”‚   â””â”€â”€ ReminderPopup.vue # æé†’å¼¹çª—
â”‚   â”‚   â””â”€â”€ settings/             # è®¾ç½®ç›¸å…³ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ SettingsPanel.vue
â”‚   â”‚       â””â”€â”€ ServerChanConfig.vue
â”‚   â”œâ”€â”€ views/                    # é¡µé¢è§†å›¾
â”‚   â”‚   â”œâ”€â”€ HomeView.vue          # ä¸»é¡µ
â”‚   â”‚   â””â”€â”€ SettingsView.vue      # è®¾ç½®é¡µ
â”‚   â”œâ”€â”€ stores/                   # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ reminder.ts
â”‚   â”‚   â””â”€â”€ settings.ts
â”‚   â”œâ”€â”€ services/                 # API è°ƒç”¨å°è£…
â”‚   â”‚   â”œâ”€â”€ reminder.ts
â”‚   â”‚   â””â”€â”€ settings.ts
â”‚   â”œâ”€â”€ types/                    # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ reminder.ts
â”‚   â”‚   â””â”€â”€ settings.ts
â”‚   â”œâ”€â”€ router/                   # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ App.vue
â”‚   â””â”€â”€ main.ts
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ vite.config.ts
â”œâ”€â”€ é¡¹ç›®è¯´æ˜.md
â””â”€â”€ è®¾è®¡æ–‡æ¡£.md
```

---

## å››ã€æ•°æ®åº“è®¾è®¡

### 4.1 è®¾è®¡åŸåˆ™
- æ‰€æœ‰è¡¨éƒ½åŒ…å«åŒæ­¥ç›¸å…³å­—æ®µï¼Œä¸ºäº‘ç«¯åŒæ­¥é¢„ç•™
- ä½¿ç”¨ UUID ä½œä¸ºä¸šåŠ¡ä¸»é”®ï¼Œä¾¿äºåˆ†å¸ƒå¼åŒæ­¥
- è®°å½•æ•°æ®ç‰ˆæœ¬å·ï¼Œæ”¯æŒå†²çªæ£€æµ‹

### 4.2 è¡¨ç»“æ„

#### 4.2.1 æé†’è¡¨ (reminders)

| å­—æ®µå | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|--------|------|
| id | INTEGER | æ˜¯ | è‡ªå¢ | æœ¬åœ°ä¸»é”® |
| uuid | TEXT | æ˜¯ | - | å…¨å±€å”¯ä¸€æ ‡è¯†ï¼Œç”¨äºäº‘ç«¯åŒæ­¥ |
| user_id | TEXT | å¦ | NULL | ç”¨æˆ·IDï¼Œç”¨äºäº‘ç«¯è´¦å·åŒæ­¥ï¼Œæœ¬åœ°å¯ä¸ºç©º |
| title | TEXT | æ˜¯ | - | æé†’æ ‡é¢˜ |
| content | TEXT | å¦ | '' | æé†’å†…å®¹ |
| links | TEXT | å¦ | NULL | ç½‘ç«™é“¾æ¥ï¼ŒJSONæ•°ç»„ï¼Œæœ€å¤š3ä¸ªï¼Œæ ¼å¼è§ä¸‹æ–¹ |
| remind_time | TEXT | æ˜¯ | - | æé†’æ—¶é—´ï¼Œæ ¼å¼ "HH:MM" |
| remind_type | TEXT | æ˜¯ | 'daily' | æé†’ç±»å‹ï¼šdaily/once/weekday |
| weekdays | TEXT | å¦ | NULL | å‘¨å‡ æé†’ï¼ŒJSONæ•°ç»„ "[1,2,3,4,5]" |
| is_enabled | INTEGER | æ˜¯ | 1 | æ˜¯å¦å¯ç”¨ï¼š0=ç¦ç”¨ï¼Œ1=å¯ç”¨ |
| repeat_on_close | INTEGER | æ˜¯ | 0 | å…³é—­åæ˜¯å¦é‡å¤æé†’ |
| repeat_interval | INTEGER | å¦ | NULL | é‡å¤é—´éš”ï¼ˆåˆ†é’Ÿï¼‰ |
| is_loop | INTEGER | æ˜¯ | 0 | æ˜¯å¦å¾ªç¯æé†’ç›´åˆ°å®Œæˆ |
| loop_interval | INTEGER | å¦ | NULL | å¾ªç¯é—´éš”ï¼ˆåˆ†é’Ÿï¼‰ |
| notify_on_trigger | INTEGER | æ˜¯ | 0 | è§¦å‘æ—¶å‘é€Serveré…±é€šçŸ¥ |
| notify_on_complete | INTEGER | æ˜¯ | 0 | å®Œæˆæ—¶å‘é€Serveré…±é€šçŸ¥ |
| notify_on_timeout | INTEGER | æ˜¯ | 0 | è¶…æ—¶æœªå®Œæˆæ—¶å‘é€é€šçŸ¥ |
| timeout_minutes | INTEGER | å¦ | NULL | è¶…æ—¶æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰ |
| last_triggered_at | TEXT | å¦ | NULL | ä¸Šæ¬¡è§¦å‘æ—¶é—´ ISO8601 |
| last_completed_at | TEXT | å¦ | NULL | ä¸Šæ¬¡å®Œæˆæ—¶é—´ ISO8601 |
| sort_order | INTEGER | æ˜¯ | 0 | æ’åºé¡ºåº |
| created_at | TEXT | æ˜¯ | - | åˆ›å»ºæ—¶é—´ ISO8601 |
| updated_at | TEXT | æ˜¯ | - | æ›´æ–°æ—¶é—´ ISO8601 |
| deleted_at | TEXT | å¦ | NULL | è½¯åˆ é™¤æ—¶é—´ ISO8601 |
| version | INTEGER | æ˜¯ | 1 | æ•°æ®ç‰ˆæœ¬å·ï¼Œç”¨äºå†²çªæ£€æµ‹ |
| sync_status | TEXT | æ˜¯ | 'pending' | åŒæ­¥çŠ¶æ€ï¼špending/synced/conflict |
| sync_at | TEXT | å¦ | NULL | ä¸Šæ¬¡åŒæ­¥æ—¶é—´ ISO8601 |

```sql
CREATE TABLE reminders (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    uuid TEXT NOT NULL UNIQUE,
    user_id TEXT,  -- ç”¨æˆ·IDï¼Œäº‘ç«¯åŒæ­¥æ—¶ä½¿ç”¨ï¼Œæœ¬åœ°å¯ä¸ºç©º
    title TEXT NOT NULL,
    content TEXT DEFAULT '',
    links TEXT,  -- JSONæ•°ç»„: [{"name": "ç­¾åˆ°", "url": "https://..."}, ...]
    remind_time TEXT NOT NULL,
    remind_type TEXT NOT NULL DEFAULT 'daily',
    weekdays TEXT,
    is_enabled INTEGER NOT NULL DEFAULT 1,
    repeat_on_close INTEGER NOT NULL DEFAULT 0,
    repeat_interval INTEGER,
    is_loop INTEGER NOT NULL DEFAULT 0,
    loop_interval INTEGER,
    notify_on_trigger INTEGER NOT NULL DEFAULT 0,
    notify_on_complete INTEGER NOT NULL DEFAULT 0,
    notify_on_timeout INTEGER NOT NULL DEFAULT 0,
    timeout_minutes INTEGER,
    last_triggered_at TEXT,
    last_completed_at TEXT,
    sort_order INTEGER NOT NULL DEFAULT 0,
    created_at TEXT NOT NULL,
    updated_at TEXT NOT NULL,
    deleted_at TEXT,
    version INTEGER NOT NULL DEFAULT 1,
    sync_status TEXT NOT NULL DEFAULT 'pending',
    sync_at TEXT
);

CREATE INDEX idx_reminders_uuid ON reminders(uuid);
CREATE INDEX idx_reminders_user_id ON reminders(user_id);
CREATE INDEX idx_reminders_remind_time ON reminders(remind_time);
CREATE INDEX idx_reminders_is_enabled ON reminders(is_enabled);
CREATE INDEX idx_reminders_sync_status ON reminders(sync_status);
```

**links å­—æ®µ JSON æ ¼å¼ç¤ºä¾‹ï¼š**
```json
[
  { "name": "ç­¾åˆ°", "url": "https://example.com/signin" },
  { "name": "æ‰“å¡", "url": "https://example.com/checkin" },
  { "name": "è®ºå›", "url": "https://example.com/forum" }
]
```
- æœ€å¤šå­˜å‚¨ 3 ä¸ªé“¾æ¥
- `name`: é“¾æ¥æ˜¾ç¤ºåç§°ï¼Œå»ºè®® 2-4 ä¸ªå­—
- `url`: å®Œæ•´çš„ç½‘ç«™åœ°å€

#### 4.2.2 æé†’æ—¥å¿—è¡¨ (reminder_logs)

è®°å½•æ¯æ¬¡æé†’çš„è§¦å‘å’Œå®Œæˆæƒ…å†µï¼Œä¾¿äºç»Ÿè®¡å’Œå›æº¯ã€‚

| å­—æ®µå | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|--------|------|
| id | INTEGER | æ˜¯ | è‡ªå¢ | ä¸»é”® |
| uuid | TEXT | æ˜¯ | - | å…¨å±€å”¯ä¸€æ ‡è¯† |
| reminder_uuid | TEXT | æ˜¯ | - | å…³è”çš„æé†’ UUID |
| action | TEXT | æ˜¯ | - | æ“ä½œç±»å‹ï¼štriggered/completed/dismissed/snoozed |
| triggered_at | TEXT | æ˜¯ | - | è§¦å‘æ—¶é—´ |
| action_at | TEXT | å¦ | NULL | æ“ä½œæ—¶é—´ |
| snooze_until | TEXT | å¦ | NULL | å»¶è¿Ÿåˆ°ä»€ä¹ˆæ—¶å€™ |
| note | TEXT | å¦ | NULL | å¤‡æ³¨ |
| created_at | TEXT | æ˜¯ | - | åˆ›å»ºæ—¶é—´ |
| sync_status | TEXT | æ˜¯ | 'pending' | åŒæ­¥çŠ¶æ€ |
| sync_at | TEXT | å¦ | NULL | åŒæ­¥æ—¶é—´ |

```sql
CREATE TABLE reminder_logs (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    uuid TEXT NOT NULL UNIQUE,
    reminder_uuid TEXT NOT NULL,
    action TEXT NOT NULL,
    triggered_at TEXT NOT NULL,
    action_at TEXT,
    snooze_until TEXT,
    note TEXT,
    created_at TEXT NOT NULL,
    sync_status TEXT NOT NULL DEFAULT 'pending',
    sync_at TEXT,
    FOREIGN KEY (reminder_uuid) REFERENCES reminders(uuid)
);

CREATE INDEX idx_reminder_logs_reminder_uuid ON reminder_logs(reminder_uuid);
CREATE INDEX idx_reminder_logs_triggered_at ON reminder_logs(triggered_at);
CREATE INDEX idx_reminder_logs_sync_status ON reminder_logs(sync_status);
```

#### 4.2.3 è®¾ç½®è¡¨ (settings)

| å­—æ®µå | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|--------|------|
| id | INTEGER | æ˜¯ | è‡ªå¢ | ä¸»é”® |
| key | TEXT | æ˜¯ | - | è®¾ç½®é”®å |
| value | TEXT | æ˜¯ | - | è®¾ç½®å€¼ï¼ˆJSONæ ¼å¼ï¼‰ |
| updated_at | TEXT | æ˜¯ | - | æ›´æ–°æ—¶é—´ |
| version | INTEGER | æ˜¯ | 1 | ç‰ˆæœ¬å· |
| sync_status | TEXT | æ˜¯ | 'pending' | åŒæ­¥çŠ¶æ€ |
| sync_at | TEXT | å¦ | NULL | åŒæ­¥æ—¶é—´ |

```sql
CREATE TABLE settings (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    key TEXT NOT NULL UNIQUE,
    value TEXT NOT NULL,
    updated_at TEXT NOT NULL,
    version INTEGER NOT NULL DEFAULT 1,
    sync_status TEXT NOT NULL DEFAULT 'pending',
    sync_at TEXT
);
```

é¢„ç½®è®¾ç½®é¡¹ï¼š
- `serverchan_sendkey`: Serveré…± SendKey
- `auto_start`: å¼€æœºè‡ªå¯åŠ¨
- `default_snooze_interval`: é»˜è®¤å»¶è¿Ÿæé†’é—´éš”ï¼ˆåˆ†é’Ÿï¼‰
- `window_position`: çª—å£ä½ç½®è®°å¿†
- `theme`: ä¸»é¢˜è®¾ç½®ï¼ˆé¢„ç•™ï¼‰

#### 4.2.4 åŒæ­¥å…ƒæ•°æ®è¡¨ (sync_meta)

ç”¨äºè®°å½•åŒæ­¥çŠ¶æ€ï¼Œä¸ºåç»­äº‘ç«¯åŒæ­¥åšå‡†å¤‡ã€‚

| å­—æ®µå | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|--------|------|
| id | INTEGER | æ˜¯ | è‡ªå¢ | ä¸»é”® |
| device_id | TEXT | æ˜¯ | - | è®¾å¤‡å”¯ä¸€æ ‡è¯† |
| last_sync_at | TEXT | å¦ | NULL | ä¸Šæ¬¡åŒæ­¥æ—¶é—´ |
| sync_token | TEXT | å¦ | NULL | åŒæ­¥ä»¤ç‰Œ |
| user_id | TEXT | å¦ | NULL | ç”¨æˆ·IDï¼ˆé¢„ç•™ï¼‰ |

```sql
CREATE TABLE sync_meta (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    device_id TEXT NOT NULL UNIQUE,
    last_sync_at TEXT,
    sync_token TEXT,
    user_id TEXT
);
```

---

## äº”ã€æ•°æ®æ¨¡å‹ï¼ˆRustï¼‰

### 5.1 æé†’æ¨¡å‹

```rust
use serde::{Deserialize, Serialize};
use chrono::{DateTime, Utc};

/// æé†’ç±»å‹
#[derive(Debug, Clone, Serialize, Deserialize, PartialEq)]
#[serde(rename_all = "snake_case")]
pub enum RemindType {
    Daily,    // æ¯å¤©
    Once,     // å•æ¬¡
    Weekday,  // æŒ‡å®šå·¥ä½œæ—¥
}

/// åŒæ­¥çŠ¶æ€
#[derive(Debug, Clone, Serialize, Deserialize, PartialEq)]
#[serde(rename_all = "snake_case")]
pub enum SyncStatus {
    Pending,  // å¾…åŒæ­¥
    Synced,   // å·²åŒæ­¥
    Conflict, // å†²çª
}

/// ç½‘ç«™é“¾æ¥ï¼ˆæœ€å¤š3ä¸ªï¼‰
#[derive(Debug, Clone, Serialize, Deserialize)]
pub struct ReminderLink {
    pub name: String,   // é“¾æ¥åç§°ï¼Œå¦‚"ç­¾åˆ°"ã€"æ‰“å¡"
    pub url: String,    // é“¾æ¥åœ°å€
}

impl ReminderLink {
    /// éªŒè¯é“¾æ¥æ•°é‡ä¸è¶…è¿‡3ä¸ª
    pub fn validate_links(links: &Option<Vec<ReminderLink>>) -> Result<(), String> {
        if let Some(ref list) = links {
            if list.len() > 3 {
                return Err("é“¾æ¥æ•°é‡ä¸èƒ½è¶…è¿‡3ä¸ª".to_string());
            }
        }
        Ok(())
    }
}

/// æé†’æ¨¡å‹
#[derive(Debug, Clone, Serialize, Deserialize)]
pub struct Reminder {
    pub id: Option<i64>,
    pub uuid: String,
    pub user_id: Option<String>,  // ç”¨æˆ·IDï¼Œäº‘ç«¯åŒæ­¥æ—¶ä½¿ç”¨

    // åŸºæœ¬ä¿¡æ¯
    pub title: String,
    pub content: String,
    pub links: Option<Vec<ReminderLink>>,  // ç½‘ç«™é“¾æ¥ï¼Œæœ€å¤š3ä¸ª

    // æ—¶é—´è®¾ç½®
    pub remind_time: String,        // "HH:MM"
    pub remind_type: RemindType,
    pub weekdays: Option<Vec<u8>>,  // [1,2,3,4,5] å‘¨ä¸€åˆ°å‘¨äº”

    // çŠ¶æ€
    pub is_enabled: bool,

    // é‡å¤è®¾ç½®
    pub repeat_on_close: bool,      // å…³é—­åé‡å¤æé†’
    pub repeat_interval: Option<i32>, // é‡å¤é—´éš”ï¼ˆåˆ†é’Ÿï¼‰
    pub is_loop: bool,              // å¾ªç¯æé†’ç›´åˆ°å®Œæˆ
    pub loop_interval: Option<i32>, // å¾ªç¯é—´éš”ï¼ˆåˆ†é’Ÿï¼‰

    // Serveré…±é€šçŸ¥
    pub notify_on_trigger: bool,    // è§¦å‘æ—¶é€šçŸ¥
    pub notify_on_complete: bool,   // å®Œæˆæ—¶é€šçŸ¥
    pub notify_on_timeout: bool,    // è¶…æ—¶é€šçŸ¥
    pub timeout_minutes: Option<i32>, // è¶…æ—¶æ—¶é—´

    // è¿è¡ŒçŠ¶æ€
    pub last_triggered_at: Option<DateTime<Utc>>,
    pub last_completed_at: Option<DateTime<Utc>>,

    // æ’åº
    pub sort_order: i32,

    // æ—¶é—´æˆ³
    pub created_at: DateTime<Utc>,
    pub updated_at: DateTime<Utc>,
    pub deleted_at: Option<DateTime<Utc>>,

    // åŒæ­¥ç›¸å…³
    pub version: i32,
    pub sync_status: SyncStatus,
    pub sync_at: Option<DateTime<Utc>>,
}

/// åˆ›å»ºæé†’è¯·æ±‚
#[derive(Debug, Deserialize)]
pub struct CreateReminderRequest {
    pub title: String,
    pub content: Option<String>,
    pub links: Option<Vec<ReminderLink>>,  // æœ€å¤š3ä¸ªé“¾æ¥
    pub remind_time: String,
    pub remind_type: Option<RemindType>,
    pub weekdays: Option<Vec<u8>>,
    pub repeat_on_close: Option<bool>,
    pub repeat_interval: Option<i32>,
    pub is_loop: Option<bool>,
    pub loop_interval: Option<i32>,
    pub notify_on_trigger: Option<bool>,
    pub notify_on_complete: Option<bool>,
    pub notify_on_timeout: Option<bool>,
    pub timeout_minutes: Option<i32>,
}

/// æ›´æ–°æé†’è¯·æ±‚
#[derive(Debug, Deserialize)]
pub struct UpdateReminderRequest {
    pub uuid: String,
    pub title: Option<String>,
    pub content: Option<String>,
    pub links: Option<Vec<ReminderLink>>,  // æœ€å¤š3ä¸ªé“¾æ¥
    pub remind_time: Option<String>,
    pub remind_type: Option<RemindType>,
    pub weekdays: Option<Vec<u8>>,
    pub is_enabled: Option<bool>,
    pub repeat_on_close: Option<bool>,
    pub repeat_interval: Option<i32>,
    pub is_loop: Option<bool>,
    pub loop_interval: Option<i32>,
    pub notify_on_trigger: Option<bool>,
    pub notify_on_complete: Option<bool>,
    pub notify_on_timeout: Option<bool>,
    pub timeout_minutes: Option<i32>,
    pub sort_order: Option<i32>,
}
```

### 5.2 æé†’æ—¥å¿—æ¨¡å‹

```rust
/// æ—¥å¿—æ“ä½œç±»å‹
#[derive(Debug, Clone, Serialize, Deserialize, PartialEq)]
#[serde(rename_all = "snake_case")]
pub enum LogAction {
    Triggered,  // å·²è§¦å‘
    Completed,  // å·²å®Œæˆ
    Dismissed,  // å·²å…³é—­
    Snoozed,    // å·²å»¶è¿Ÿ
}

/// æé†’æ—¥å¿—
#[derive(Debug, Clone, Serialize, Deserialize)]
pub struct ReminderLog {
    pub id: Option<i64>,
    pub uuid: String,
    pub reminder_uuid: String,
    pub action: LogAction,
    pub triggered_at: DateTime<Utc>,
    pub action_at: Option<DateTime<Utc>>,
    pub snooze_until: Option<DateTime<Utc>>,
    pub note: Option<String>,
    pub created_at: DateTime<Utc>,
    pub sync_status: SyncStatus,
    pub sync_at: Option<DateTime<Utc>>,
}
```

### 5.3 è®¾ç½®æ¨¡å‹

```rust
/// åº”ç”¨è®¾ç½®
#[derive(Debug, Clone, Serialize, Deserialize)]
pub struct AppSettings {
    pub serverchan_sendkey: Option<String>,
    pub auto_start: bool,
    pub default_snooze_interval: i32,  // é»˜è®¤5åˆ†é’Ÿ
    pub window_position: Option<WindowPosition>,
}

#[derive(Debug, Clone, Serialize, Deserialize)]
pub struct WindowPosition {
    pub x: i32,
    pub y: i32,
    pub width: u32,
    pub height: u32,
}

impl Default for AppSettings {
    fn default() -> Self {
        Self {
            serverchan_sendkey: None,
            auto_start: false,
            default_snooze_interval: 5,
            window_position: None,
        }
    }
}
```

---

## å…­ã€å‰ç«¯ç±»å‹å®šä¹‰ï¼ˆTypeScriptï¼‰

```typescript
// types/reminder.ts

/** æé†’ç±»å‹ */
export type RemindType = 'daily' | 'once' | 'weekday';

/** åŒæ­¥çŠ¶æ€ */
export type SyncStatus = 'pending' | 'synced' | 'conflict';

/** æ—¥å¿—æ“ä½œç±»å‹ */
export type LogAction = 'triggered' | 'completed' | 'dismissed' | 'snoozed';

/** ç½‘ç«™é“¾æ¥ï¼ˆæœ€å¤š3ä¸ªï¼‰ */
export interface ReminderLink {
  name: string;   // é“¾æ¥åç§°
  url: string;    // é“¾æ¥åœ°å€
}

/** æé†’æ¨¡å‹ */
export interface Reminder {
  id?: number;
  uuid: string;
  userId?: string;  // ç”¨æˆ·IDï¼Œäº‘ç«¯åŒæ­¥æ—¶ä½¿ç”¨

  // åŸºæœ¬ä¿¡æ¯
  title: string;
  content: string;
  links?: ReminderLink[];  // ç½‘ç«™é“¾æ¥ï¼Œæœ€å¤š3ä¸ª

  // æ—¶é—´è®¾ç½®
  remindTime: string;  // "HH:MM"
  remindType: RemindType;
  weekdays?: number[]; // [1,2,3,4,5]

  // çŠ¶æ€
  isEnabled: boolean;

  // é‡å¤è®¾ç½®
  repeatOnClose: boolean;
  repeatInterval?: number;
  isLoop: boolean;
  loopInterval?: number;

  // Serveré…±é€šçŸ¥
  notifyOnTrigger: boolean;
  notifyOnComplete: boolean;
  notifyOnTimeout: boolean;
  timeoutMinutes?: number;

  // è¿è¡ŒçŠ¶æ€
  lastTriggeredAt?: string;
  lastCompletedAt?: string;

  // æ’åº
  sortOrder: number;

  // æ—¶é—´æˆ³
  createdAt: string;
  updatedAt: string;
  deletedAt?: string;

  // åŒæ­¥
  version: number;
  syncStatus: SyncStatus;
  syncAt?: string;
}

/** åˆ›å»ºæé†’è¯·æ±‚ */
export interface CreateReminderRequest {
  title: string;
  content?: string;
  links?: ReminderLink[];  // æœ€å¤š3ä¸ªé“¾æ¥
  remindTime: string;
  remindType?: RemindType;
  weekdays?: number[];
  repeatOnClose?: boolean;
  repeatInterval?: number;
  isLoop?: boolean;
  loopInterval?: number;
  notifyOnTrigger?: boolean;
  notifyOnComplete?: boolean;
  notifyOnTimeout?: boolean;
  timeoutMinutes?: number;
}

/** æ›´æ–°æé†’è¯·æ±‚ */
export interface UpdateReminderRequest {
  uuid: string;
  title?: string;
  content?: string;
  links?: ReminderLink[];  // æœ€å¤š3ä¸ªé“¾æ¥
  remindTime?: string;
  remindType?: RemindType;
  weekdays?: number[];
  isEnabled?: boolean;
  repeatOnClose?: boolean;
  repeatInterval?: number;
  isLoop?: boolean;
  loopInterval?: number;
  notifyOnTrigger?: boolean;
  notifyOnComplete?: boolean;
  notifyOnTimeout?: boolean;
  timeoutMinutes?: number;
  sortOrder?: number;
}

/** æé†’æ—¥å¿— */
export interface ReminderLog {
  id?: number;
  uuid: string;
  reminderUuid: string;
  action: LogAction;
  triggeredAt: string;
  actionAt?: string;
  snoozeUntil?: string;
  note?: string;
  createdAt: string;
  syncStatus: SyncStatus;
  syncAt?: string;
}
```

```typescript
// types/settings.ts

/** çª—å£ä½ç½® */
export interface WindowPosition {
  x: number;
  y: number;
  width: number;
  height: number;
}

/** åº”ç”¨è®¾ç½® */
export interface AppSettings {
  serverchanSendkey?: string;
  autoStart: boolean;
  defaultSnoozeInterval: number;
  windowPosition?: WindowPosition;
}
```

---

## ä¸ƒã€API æ¥å£è®¾è®¡ï¼ˆTauri Commandsï¼‰

### 7.1 æé†’ç›¸å…³

```rust
// è·å–æ‰€æœ‰æé†’ï¼ˆä¸åŒ…æ‹¬å·²åˆ é™¤ï¼‰
#[tauri::command]
async fn get_reminders() -> Result<Vec<Reminder>, String>;

// è·å–å•ä¸ªæé†’
#[tauri::command]
async fn get_reminder(uuid: String) -> Result<Option<Reminder>, String>;

// åˆ›å»ºæé†’
#[tauri::command]
async fn create_reminder(request: CreateReminderRequest) -> Result<Reminder, String>;

// æ›´æ–°æé†’
#[tauri::command]
async fn update_reminder(request: UpdateReminderRequest) -> Result<Reminder, String>;

// åˆ é™¤æé†’ï¼ˆè½¯åˆ é™¤ï¼‰
#[tauri::command]
async fn delete_reminder(uuid: String) -> Result<(), String>;

// åˆ‡æ¢æé†’å¯ç”¨çŠ¶æ€
#[tauri::command]
async fn toggle_reminder(uuid: String) -> Result<Reminder, String>;

// æ›´æ–°æ’åº
#[tauri::command]
async fn reorder_reminders(uuids: Vec<String>) -> Result<(), String>;
```

### 7.2 æé†’æ“ä½œ

```rust
// æ ‡è®°æé†’å·²å®Œæˆ
#[tauri::command]
async fn complete_reminder(uuid: String) -> Result<(), String>;

// å»¶è¿Ÿæé†’
#[tauri::command]
async fn snooze_reminder(uuid: String, minutes: i32) -> Result<(), String>;

// å…³é—­æé†’å¼¹çª—
#[tauri::command]
async fn dismiss_reminder(uuid: String) -> Result<(), String>;
```

### 7.3 æ—¥å¿—ç›¸å…³

```rust
// è·å–æé†’æ—¥å¿—
#[tauri::command]
async fn get_reminder_logs(
    reminder_uuid: Option<String>,
    start_date: Option<String>,
    end_date: Option<String>,
    limit: Option<i32>,
) -> Result<Vec<ReminderLog>, String>;
```

### 7.4 è®¾ç½®ç›¸å…³

```rust
// è·å–è®¾ç½®
#[tauri::command]
async fn get_settings() -> Result<AppSettings, String>;

// æ›´æ–°è®¾ç½®
#[tauri::command]
async fn update_settings(settings: AppSettings) -> Result<(), String>;

// æµ‹è¯• Serveré…±è¿æ¥
#[tauri::command]
async fn test_serverchan(sendkey: String) -> Result<bool, String>;
```

### 7.5 ç³»ç»Ÿç›¸å…³

```rust
// è®¾ç½®å¼€æœºè‡ªå¯
#[tauri::command]
async fn set_auto_start(enabled: bool) -> Result<(), String>;

// è·å–å¼€æœºè‡ªå¯çŠ¶æ€
#[tauri::command]
async fn get_auto_start() -> Result<bool, String>;

// è·å–ä¸‹ä¸€ä¸ªå°†è§¦å‘çš„æé†’
#[tauri::command]
async fn get_next_reminder() -> Result<Option<Reminder>, String>;
```

---

## å…«ã€UI è®¾è®¡è§„èŒƒï¼ˆMaterial Design 3ï¼‰

### 8.1 è®¾è®¡é£æ ¼
- **Material Design 3**ï¼šGoogle æœ€æ–°è®¾è®¡è¯­è¨€ï¼ŒåŠ¨æ€è‰²å½©ç³»ç»Ÿ
- **ç®€æ´ç°ä»£**ï¼šå¤§é¢ç§¯ç•™ç™½ï¼Œå±‚æ¬¡åˆ†æ˜
- **åŠ¨æ•ˆæµç•…**ï¼šç¬¦åˆ Material Motion è§„èŒƒ
- **å“åº”å¼**ï¼šé€‚é…ä¸åŒçª—å£å°ºå¯¸

### 8.2 è‰²å½©è§„èŒƒï¼ˆMaterial Design 3 è‰²å½©ç³»ç»Ÿï¼‰

```css
:root {
  /* ===== Primary ä¸»è‰²è°ƒ ===== */
  --md-sys-color-primary: #6750A4;           /* ä¸»è‰² */
  --md-sys-color-on-primary: #FFFFFF;        /* ä¸»è‰²ä¸Šçš„æ–‡å­— */
  --md-sys-color-primary-container: #EADDFF; /* ä¸»è‰²å®¹å™¨ */
  --md-sys-color-on-primary-container: #21005D;

  /* ===== Secondary æ¬¡è¦è‰² ===== */
  --md-sys-color-secondary: #625B71;
  --md-sys-color-on-secondary: #FFFFFF;
  --md-sys-color-secondary-container: #E8DEF8;
  --md-sys-color-on-secondary-container: #1D192B;

  /* ===== Tertiary ç¬¬ä¸‰è‰² ===== */
  --md-sys-color-tertiary: #7D5260;
  --md-sys-color-on-tertiary: #FFFFFF;
  --md-sys-color-tertiary-container: #FFD8E4;
  --md-sys-color-on-tertiary-container: #31111D;

  /* ===== Error é”™è¯¯è‰² ===== */
  --md-sys-color-error: #B3261E;
  --md-sys-color-on-error: #FFFFFF;
  --md-sys-color-error-container: #F9DEDC;
  --md-sys-color-on-error-container: #410E0B;

  /* ===== Surface è¡¨é¢è‰² ===== */
  --md-sys-color-surface: #FFFBFE;           /* ä¸»è¡¨é¢ */
  --md-sys-color-on-surface: #1C1B1F;        /* è¡¨é¢æ–‡å­— */
  --md-sys-color-surface-variant: #E7E0EC;   /* è¡¨é¢å˜ä½“ */
  --md-sys-color-on-surface-variant: #49454F;
  --md-sys-color-surface-container: #F3EDF7;
  --md-sys-color-surface-container-high: #ECE6F0;
  --md-sys-color-surface-container-highest: #E6E0E9;

  /* ===== Outline è½®å»“ ===== */
  --md-sys-color-outline: #79747E;
  --md-sys-color-outline-variant: #CAC4D0;

  /* ===== Background èƒŒæ™¯ ===== */
  --md-sys-color-background: #FFFBFE;
  --md-sys-color-on-background: #1C1B1F;

  /* ===== é˜´å½±ï¼ˆElevationï¼‰ ===== */
  --md-sys-elevation-level0: none;
  --md-sys-elevation-level1: 0 1px 2px rgba(0,0,0,0.3), 0 1px 3px 1px rgba(0,0,0,0.15);
  --md-sys-elevation-level2: 0 1px 2px rgba(0,0,0,0.3), 0 2px 6px 2px rgba(0,0,0,0.15);
  --md-sys-elevation-level3: 0 1px 3px rgba(0,0,0,0.3), 0 4px 8px 3px rgba(0,0,0,0.15);
  --md-sys-elevation-level4: 0 2px 3px rgba(0,0,0,0.3), 0 6px 10px 4px rgba(0,0,0,0.15);
  --md-sys-elevation-level5: 0 4px 4px rgba(0,0,0,0.3), 0 8px 12px 6px rgba(0,0,0,0.15);

  /* ===== åœ†è§’ï¼ˆShapeï¼‰ ===== */
  --md-sys-shape-corner-none: 0;
  --md-sys-shape-corner-extra-small: 4px;
  --md-sys-shape-corner-small: 8px;
  --md-sys-shape-corner-medium: 12px;
  --md-sys-shape-corner-large: 16px;
  --md-sys-shape-corner-extra-large: 28px;
  --md-sys-shape-corner-full: 9999px;

  /* ===== çŠ¶æ€å±‚é€æ˜åº¦ ===== */
  --md-sys-state-hover-opacity: 0.08;
  --md-sys-state-focus-opacity: 0.12;
  --md-sys-state-pressed-opacity: 0.12;
  --md-sys-state-dragged-opacity: 0.16;
}
```

### 8.3 å­—ä½“è§„èŒƒï¼ˆMaterial Type Scaleï¼‰

```css
:root {
  /* å­—ä½“å®¶æ— */
  --md-sys-typescale-font-family: 'Roboto', -apple-system, BlinkMacSystemFont,
                                   'Segoe UI', 'PingFang SC', 'Microsoft YaHei',
                                   sans-serif;

  /* ===== Display ===== */
  --md-sys-typescale-display-large: 400 57px/64px var(--md-sys-typescale-font-family);
  --md-sys-typescale-display-medium: 400 45px/52px var(--md-sys-typescale-font-family);
  --md-sys-typescale-display-small: 400 36px/44px var(--md-sys-typescale-font-family);

  /* ===== Headline ===== */
  --md-sys-typescale-headline-large: 400 32px/40px var(--md-sys-typescale-font-family);
  --md-sys-typescale-headline-medium: 400 28px/36px var(--md-sys-typescale-font-family);
  --md-sys-typescale-headline-small: 400 24px/32px var(--md-sys-typescale-font-family);

  /* ===== Title ===== */
  --md-sys-typescale-title-large: 400 22px/28px var(--md-sys-typescale-font-family);
  --md-sys-typescale-title-medium: 500 16px/24px var(--md-sys-typescale-font-family);
  --md-sys-typescale-title-small: 500 14px/20px var(--md-sys-typescale-font-family);

  /* ===== Body ===== */
  --md-sys-typescale-body-large: 400 16px/24px var(--md-sys-typescale-font-family);
  --md-sys-typescale-body-medium: 400 14px/20px var(--md-sys-typescale-font-family);
  --md-sys-typescale-body-small: 400 12px/16px var(--md-sys-typescale-font-family);

  /* ===== Label ===== */
  --md-sys-typescale-label-large: 500 14px/20px var(--md-sys-typescale-font-family);
  --md-sys-typescale-label-medium: 500 12px/16px var(--md-sys-typescale-font-family);
  --md-sys-typescale-label-small: 500 11px/16px var(--md-sys-typescale-font-family);
}
```

### 8.4 ç»„ä»¶è§„èŒƒ

#### Filled Buttonï¼ˆå®å¿ƒæŒ‰é’®ï¼‰

```css
.md-filled-button {
  height: 40px;
  padding: 0 24px;
  background: var(--md-sys-color-primary);
  color: var(--md-sys-color-on-primary);
  border: none;
  border-radius: var(--md-sys-shape-corner-full);
  font: var(--md-sys-typescale-label-large);
  cursor: pointer;
  transition: box-shadow 0.2s, background 0.2s;
}

.md-filled-button:hover {
  box-shadow: var(--md-sys-elevation-level1);
}

.md-filled-button:active {
  box-shadow: none;
}
```

#### Outlined Buttonï¼ˆæè¾¹æŒ‰é’®ï¼‰

```css
.md-outlined-button {
  height: 40px;
  padding: 0 24px;
  background: transparent;
  color: var(--md-sys-color-primary);
  border: 1px solid var(--md-sys-color-outline);
  border-radius: var(--md-sys-shape-corner-full);
  font: var(--md-sys-typescale-label-large);
  cursor: pointer;
  transition: background 0.2s;
}

.md-outlined-button:hover {
  background: rgba(103, 80, 164, 0.08);
}
```

#### Text Buttonï¼ˆæ–‡å­—æŒ‰é’®ï¼‰

```css
.md-text-button {
  height: 40px;
  padding: 0 12px;
  background: transparent;
  color: var(--md-sys-color-primary);
  border: none;
  border-radius: var(--md-sys-shape-corner-full);
  font: var(--md-sys-typescale-label-large);
  cursor: pointer;
}

.md-text-button:hover {
  background: rgba(103, 80, 164, 0.08);
}
```

#### Cardï¼ˆå¡ç‰‡ï¼‰

```css
.md-card {
  background: var(--md-sys-color-surface-container);
  border-radius: var(--md-sys-shape-corner-medium);
  padding: 16px;
  transition: box-shadow 0.2s;
}

.md-card-elevated {
  background: var(--md-sys-color-surface-container-low);
  box-shadow: var(--md-sys-elevation-level1);
}

.md-card-elevated:hover {
  box-shadow: var(--md-sys-elevation-level2);
}

.md-card-outlined {
  background: var(--md-sys-color-surface);
  border: 1px solid var(--md-sys-color-outline-variant);
}
```

#### Text Fieldï¼ˆè¾“å…¥æ¡†ï¼‰

```css
.md-text-field {
  position: relative;
  width: 100%;
}

.md-text-field input {
  width: 100%;
  height: 56px;
  padding: 16px;
  background: var(--md-sys-color-surface-container-highest);
  border: none;
  border-bottom: 1px solid var(--md-sys-color-on-surface-variant);
  border-radius: var(--md-sys-shape-corner-extra-small) var(--md-sys-shape-corner-extra-small) 0 0;
  font: var(--md-sys-typescale-body-large);
  color: var(--md-sys-color-on-surface);
  transition: border-color 0.2s;
}

.md-text-field input:focus {
  outline: none;
  border-bottom: 2px solid var(--md-sys-color-primary);
}

.md-text-field-outlined input {
  background: transparent;
  border: 1px solid var(--md-sys-color-outline);
  border-radius: var(--md-sys-shape-corner-extra-small);
}

.md-text-field-outlined input:focus {
  border: 2px solid var(--md-sys-color-primary);
}
```

#### FABï¼ˆæµ®åŠ¨æ“ä½œæŒ‰é’®ï¼‰

```css
.md-fab {
  width: 56px;
  height: 56px;
  background: var(--md-sys-color-primary-container);
  color: var(--md-sys-color-on-primary-container);
  border: none;
  border-radius: var(--md-sys-shape-corner-large);
  box-shadow: var(--md-sys-elevation-level3);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: box-shadow 0.2s;
}

.md-fab:hover {
  box-shadow: var(--md-sys-elevation-level4);
}

.md-fab-extended {
  width: auto;
  padding: 0 16px;
  gap: 8px;
}
```

#### Switchï¼ˆå¼€å…³ï¼‰

```css
.md-switch {
  width: 52px;
  height: 32px;
  background: var(--md-sys-color-surface-container-highest);
  border: 2px solid var(--md-sys-color-outline);
  border-radius: var(--md-sys-shape-corner-full);
  cursor: pointer;
  position: relative;
  transition: all 0.2s;
}

.md-switch::after {
  content: '';
  width: 16px;
  height: 16px;
  background: var(--md-sys-color-outline);
  border-radius: 50%;
  position: absolute;
  top: 6px;
  left: 6px;
  transition: all 0.2s;
}

.md-switch.checked {
  background: var(--md-sys-color-primary);
  border-color: var(--md-sys-color-primary);
}

.md-switch.checked::after {
  width: 24px;
  height: 24px;
  background: var(--md-sys-color-on-primary);
  top: 2px;
  left: 24px;
}
```

### 8.5 é¡µé¢å¸ƒå±€

#### ä¸»ç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â‰¡  Notice                           âš™ï¸     â”‚  â”‚  <- Top App Bar
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  æ¯æ—¥ç­¾åˆ°                    ğŸ”” â”â”  â”‚    â”‚  â”‚  <- Card with Switch
â”‚  â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â° 09:00                           â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  ğŸ“… æ¯å¤©                            â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                     â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  ğŸ”— ç­¾åˆ°  ğŸ”— æ‰“å¡  ğŸ”— è®ºå›          â”‚    â”‚  â”‚  <- å¤šä¸ªé“¾æ¥ Chips
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚                                             â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  å·¥ä½œæ—¥æ‰“å¡                  ğŸ”” â”â”  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â° 18:00                           â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  ğŸ“… å‘¨ä¸€è‡³å‘¨äº”                      â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                     â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  ğŸ”— OAç³»ç»Ÿ                          â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚                                             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ä¸‹æ¬¡æé†’: 09:00 æ¯æ—¥ç­¾åˆ°                   â”‚  â”‚  <- Bottom Bar
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                           â•­â”€â”€â”€â•®   â”‚
â”‚                                           â”‚ + â”‚   â”‚  <- FAB
â”‚                                           â•°â”€â”€â”€â•¯   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æé†’å¼¹çª—ï¼ˆDialogï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                         â”‚
â”‚           æ¯æ—¥ç­¾åˆ°                       â”‚  <- Headline
â”‚                                         â”‚
â”‚    è®°å¾—å®Œæˆä»Šå¤©çš„ç­¾åˆ°ä»»åŠ¡                 â”‚  <- Body
â”‚                                         â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚    â”‚ ğŸ”—ç­¾åˆ° â”‚ â”‚ ğŸ”—æ‰“å¡ â”‚ â”‚ ğŸ”—è®ºå› â”‚       â”‚  <- Chip Group (æœ€å¤š3ä¸ª)
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                         â”‚
â”‚           å…³é—­    ç¨å    å®Œæˆ           â”‚  <- Actions
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ·»åŠ /ç¼–è¾‘è¡¨å•ï¼ˆBottom Sheet / Dialogï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”â”â”â”â”â”â”â”â”â”                             â”‚  <- Drag Handle
â”‚                                         â”‚
â”‚  æ–°å»ºæé†’                                â”‚  <- Title
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ æé†’æ ‡é¢˜                         â”‚    â”‚  <- Text Field
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ æé†’å†…å®¹ï¼ˆå¯é€‰ï¼‰                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                         â”‚
â”‚  ç½‘ç«™é“¾æ¥ï¼ˆæœ€å¤š3ä¸ªï¼‰                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ åç§°        â”‚ é“¾æ¥åœ°å€            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ åç§°        â”‚ é“¾æ¥åœ°å€            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                          ï¼‹ æ·»åŠ é“¾æ¥     â”‚  <- Text Button
â”‚                                         â”‚
â”‚  â° æé†’æ—¶é—´          09 : 00           â”‚  <- Time Picker
â”‚                                         â”‚
â”‚  ğŸ“… æé†’å‘¨æœŸ                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ æ¯å¤© â”‚ â”‚ å•æ¬¡ â”‚ â”‚ è‡ªå®šä¹‰  â”‚          â”‚  <- Segmented Button
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                         â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•    â”‚
â”‚                                         â”‚
â”‚              å–æ¶ˆ           ä¿å­˜         â”‚  <- Actions
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¹ã€æ ¸å¿ƒæµç¨‹

### 9.1 å®šæ—¶è°ƒåº¦æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åº”ç”¨å¯åŠ¨    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åŠ è½½æ‰€æœ‰æé†’ â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¯åŠ¨è°ƒåº¦å™¨   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           ä¸»å¾ªç¯ï¼ˆæ¯åˆ†é’Ÿæ£€æŸ¥ï¼‰         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ è·å–å½“å‰æ—¶é—´                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                    â”‚
â”‚                 â–¼                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ æ£€æŸ¥æ˜¯å¦æœ‰æé†’éœ€è¦è§¦å‘        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                    â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚          â”‚  æœ‰æé†’?     â”‚            â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚            æ˜¯ â”‚    â”‚ å¦              â”‚
â”‚               â–¼    â”‚                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚                 â”‚
â”‚  â”‚ è§¦å‘æé†’   â”‚     â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â”‚                 â”‚
â”‚        â”‚           â”‚                 â”‚
â”‚        â–¼           â”‚                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚                 â”‚
â”‚  â”‚ æ˜¾ç¤ºå¼¹çª—   â”‚     â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â”‚                 â”‚
â”‚        â”‚           â”‚                 â”‚
â”‚        â–¼           â”‚                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚                 â”‚
â”‚  â”‚ å‘é€é€šçŸ¥   â”‚     â”‚                 â”‚
â”‚  â”‚ (å¯é€‰)     â”‚     â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â”‚                 â”‚
â”‚        â”‚           â”‚                 â”‚
â”‚        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚              â–¼                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ç­‰å¾…ä¸‹ä¸€åˆ†é’Ÿ                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9.2 æé†’å¼¹çª—äº¤äº’æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¼¹çª—æ˜¾ç¤º    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           ç­‰å¾…ç”¨æˆ·æ“ä½œ               â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  å®Œæˆ    â”‚ â”‚  ç¨å   â”‚ â”‚  å…³é—­  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â”‚
â”‚       â”‚           â”‚          â”‚      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”˜
        â”‚           â”‚          â”‚
        â–¼           â–¼          â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚è®°å½•å®Œæˆ  â”‚ â”‚è®¾ç½®å»¶è¿Ÿ  â”‚ â”‚è®°å½•å…³é—­  â”‚
   â”‚çŠ¶æ€     â”‚ â”‚æ—¶é—´     â”‚ â”‚çŠ¶æ€     â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
        â”‚           â”‚          â”‚
        â–¼           â–¼          â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
   â”‚å‘é€å®Œæˆ  â”‚ â”‚åŠ å…¥å»¶è¿Ÿ  â”‚     â”‚
   â”‚é€šçŸ¥(å¯é€‰)â”‚ â”‚é˜Ÿåˆ—     â”‚     â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â”‚
        â”‚           â”‚          â”‚
        â”‚      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”     â”‚
        â”‚      â”‚ é‡å¤æé†’? â”‚     â”‚
        â”‚      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â”‚
        â”‚       æ˜¯ â”‚ â”‚ å¦       â”‚
        â”‚          â–¼ â”‚         â”‚
        â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
        â”‚     â”‚åŠ å…¥é‡å¤  â”‚      â”‚
        â”‚     â”‚é˜Ÿåˆ—     â”‚      â”‚
        â”‚     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜      â”‚
        â”‚          â”‚           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  å…³é—­å¼¹çª—    â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9.3 äº‘ç«¯åŒæ­¥æµç¨‹ï¼ˆé¢„ç•™ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            æœ¬åœ°æ“ä½œ                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ åˆ›å»º/æ›´æ–°/åˆ é™¤æ•°æ®            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                    â”‚
â”‚                 â–¼                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ æ ‡è®° sync_status = pending  â”‚    â”‚
â”‚  â”‚ å¢åŠ  version                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            åŒæ­¥è§¦å‘                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ å®šæ—¶è§¦å‘ / æ‰‹åŠ¨è§¦å‘ / ç½‘ç»œæ¢å¤ â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                    â”‚
â”‚                 â–¼                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ è·å–æ‰€æœ‰ pending çŠ¶æ€æ•°æ®     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                    â”‚
â”‚                 â–¼                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ä¸Šä¼ åˆ°äº‘ç«¯                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                    â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚          â”‚  æœ‰å†²çª?     â”‚            â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚            æ˜¯ â”‚    â”‚ å¦              â”‚
â”‚               â–¼    â”‚                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚                 â”‚
â”‚  â”‚ æ ‡è®° conflict  â”‚â”‚                 â”‚
â”‚  â”‚ æç¤ºç”¨æˆ·è§£å†³   â”‚â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚                 â”‚
â”‚          â”‚         â”‚                 â”‚
â”‚          â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                 â”‚
â”‚               â–¼                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ æ ‡è®° sync_status = synced   â”‚    â”‚
â”‚  â”‚ æ›´æ–° sync_at                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## åã€å¼€å‘è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€æ¡†æ¶
- [ ] åˆå§‹åŒ– Tauri + Vue é¡¹ç›®
- [ ] é…ç½®å¼€å‘ç¯å¢ƒå’Œæ„å»ºè„šæœ¬
- [ ] å®ç°åŸºç¡€ UI ç»„ä»¶åº“
- [ ] åˆ›å»ºæ•°æ®åº“å’Œè¡¨ç»“æ„

### ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒåŠŸèƒ½
- [ ] å®ç°æé†’çš„å¢åˆ æ”¹æŸ¥
- [ ] å®ç°å®šæ—¶è°ƒåº¦å™¨
- [ ] å®ç°å¼¹çª—é€šçŸ¥
- [ ] å®ç°ç³»ç»Ÿæ‰˜ç›˜

### ç¬¬ä¸‰é˜¶æ®µï¼šå®Œå–„åŠŸèƒ½
- [ ] å®ç° Serveré…±é€šçŸ¥
- [ ] å®ç°å¼€æœºè‡ªå¯
- [ ] å®ç°æé†’æ—¥å¿—
- [ ] ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ

### ç¬¬å››é˜¶æ®µï¼šæ‰“åŒ…å‘å¸ƒ
- [ ] Windows æ‰“åŒ…æµ‹è¯•
- [ ] macOS æ‰“åŒ…æµ‹è¯•
- [ ] å‘å¸ƒæ­£å¼ç‰ˆæœ¬

### åç»­è¿­ä»£ï¼ˆå¯é€‰ï¼‰
- [ ] äº‘ç«¯åŒæ­¥åŠŸèƒ½
- [ ] å¤šè®¾å¤‡æ•°æ®åŒæ­¥
- [ ] ç”¨æˆ·è´¦å·ç³»ç»Ÿ

---

## åä¸€ã€æŠ€æœ¯ç»†èŠ‚

### 11.1 å®šæ—¶å™¨å®ç°

ä½¿ç”¨ Tokio å®ç°ç²¾ç¡®çš„åˆ†é’Ÿçº§å®šæ—¶å™¨ï¼š

```rust
use tokio::time::{interval, Duration};
use chrono::{Local, Timelike};

pub async fn start_scheduler(/* ... */) {
    // ç­‰å¾…åˆ°ä¸‹ä¸€åˆ†é’Ÿçš„æ•´ç‚¹
    let now = Local::now();
    let wait_secs = 60 - now.second() as u64;
    tokio::time::sleep(Duration::from_secs(wait_secs)).await;

    // æ¯åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡
    let mut interval = interval(Duration::from_secs(60));

    loop {
        interval.tick().await;

        let current_time = Local::now().format("%H:%M").to_string();

        // æ£€æŸ¥æ˜¯å¦æœ‰æé†’éœ€è¦è§¦å‘
        // ...
    }
}
```

### 11.2 Serveré…±æ¨é€

```rust
use reqwest::Client;
use serde::Serialize;

#[derive(Serialize)]
struct ServerChanMessage {
    title: String,
    desp: String,
}

pub async fn send_serverchan(
    sendkey: &str,
    title: &str,
    content: &str,
) -> Result<(), Box<dyn std::error::Error>> {
    let client = Client::new();
    let url = format!("https://sctapi.ftqq.com/{}.send", sendkey);

    let message = ServerChanMessage {
        title: title.to_string(),
        desp: content.to_string(),
    };

    client.post(&url)
        .form(&message)
        .send()
        .await?;

    Ok(())
}
```

### 11.3 å¼€æœºè‡ªå¯å®ç°

ä½¿ç”¨ `tauri-plugin-autostart`ï¼š

```rust
// Cargo.toml
// tauri-plugin-autostart = "2"

// main.rs
use tauri_plugin_autostart::MacosLauncher;

fn main() {
    tauri::Builder::default()
        .plugin(tauri_plugin_autostart::init(
            MacosLauncher::LaunchAgent,
            Some(vec!["--minimized"]),
        ))
        .run(tauri::generate_context!())
        .expect("error while running tauri application");
}
```

---

## åäºŒã€æ³¨æ„äº‹é¡¹

1. **æ•°æ®å®‰å…¨**ï¼šServeré…± SendKey åº”åŠ å¯†å­˜å‚¨
2. **æ€§èƒ½ä¼˜åŒ–**ï¼šå®šæ—¶å™¨åº”é¿å…é¢‘ç¹æ•°æ®åº“æŸ¥è¯¢ï¼Œå¯ä½¿ç”¨å†…å­˜ç¼“å­˜
3. **ç”¨æˆ·ä½“éªŒ**ï¼šå¼¹çª—åº”ç½®é¡¶æ˜¾ç¤ºï¼Œä½†ä¸åº”æŠ¢å ç„¦ç‚¹å½±å“ç”¨æˆ·æ“ä½œ
4. **è·¨å¹³å°å…¼å®¹**ï¼šæ³¨æ„ Windows å’Œ macOS çš„ç³»ç»Ÿ API å·®å¼‚
5. **é”™è¯¯å¤„ç†**ï¼šç½‘ç»œè¯·æ±‚åº”æœ‰è¶…æ—¶å’Œé‡è¯•æœºåˆ¶

---

*æ–‡æ¡£ç‰ˆæœ¬: 1.2*
*æœ€åæ›´æ–°: 2025-12-10*
*è®¾è®¡è§„èŒƒ: Material Design 3*
